const express = require('express');
const mongoose = require('mongoose');
const cors = require('cors');
const app = express();
const port = 3000;

app.use(cors());
app.use(express.json());

mongoose.connect('mongodb+srv://<username>:<password>@cluster0.mongodb.net/motoverse?retryWrites=true&w=majority', {
  useNewUrlParser: true,
  useUnifiedTopology: true,
}).then(() => console.log('Connected to MongoDB'))
  .catch(err => console.error('MongoDB connection error:', err));

const reviewSchema = new mongoose.Schema({
  bike: String,
  text: String,
  name: String,
  timestamp: String,
});
const ratingSchema = new mongoose.Schema({
  bike: String,
  score: Number,
  count: Number,
  name: String,
  timestamp: String,
});
const commentSchema = new mongoose.Schema({
  text: String,
  name: String,
  timestamp: String,
});
const noteSchema = new mongoose.Schema({
  text: String,
  name: String,
  timestamp: String,
});

const Review = mongoose.model('Review', reviewSchema);
const Rating = mongoose.model('Rating', ratingSchema);
const Comment = mongoose.model('Comment', commentSchema);
const Note = mongoose.model('Note', noteSchema);

app.get('/api/reviews', async (req, res) => {
  const reviews = await Review.find();
  res.json(reviews);
});
app.post('/api/reviews', async (req, res) => {
  const review = new Review(req.body);
  await review.save();
  res.status(201).json(review);
});

app.get('/api/ratings', async (req, res) => {
  const ratings = await Rating.find();
  res.json(ratings);
});
app.post('/api/ratings', async (req, res) => {
  const { bike, score, name } = req.body;
  const timestamp = new Date().toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true, day: '2-digit', month: 'short', year: 'numeric' }).replace(',', '');
  let rating = await Rating.findOne({ bike });
  if (rating) {
    rating.score = ((rating.score * rating.count) + score) / (rating.count + 1);
    rating.count += 1;
    rating.name = name;
    rating.timestamp = timestamp;
    await rating.save();
  } else {
    rating = new Rating({ bike, score, count: 1, name, timestamp });
    await rating.save();
  }
  res.status(201).json(rating);
});

app.get('/api/comments', async (req, res) => {
  const comments = await Comment.find();
  res.json(comments);
});
app.post('/api/comments', async (req, res) => {
  const comment = new Comment(req.body);
  await comment.save();
  res.status(201).json(comment);
});

app.get('/api/notes', async (req, res) => {
  const notes = await Note.find();
  res.json(notes);
});
app.post('/api/notes', async (req, res) => {
  const note = new Note(req.body);
  await note.save();
  res.status(201).json(note);
});

app.get('/', (req, res) => {
  res.send(`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=1200">
  <title>MotoVerse - Motorcycle Universe</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Rajdhani:wght@500;700&display=swap');

    :root {
      --primary: #ff6b35;
      --secondary: #e91e63;
      --bg-dark: #0f0f23;
      --bg-mid: #1a1a2e;
      --text-light: #ccc;
      --glass: rgba(255, 255, 255, 0.15);
      --border: rgba(255, 255, 255, 0.2);
      --shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Rajdhani', sans-serif;
    }

    body {
      background: linear-gradient(135deg, var(--bg-dark), var(--bg-mid));
      color: white;
      line-height: 1.6;
      overflow-x: auto;
      min-width: 1200px;
      margin: 0 auto;
    }

    .orbitron { font-family: 'Orbitron', sans-serif; }
    .gradient-text {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .glass { 
      background: var(--glass); 
      border: 1px solid var(--border); 
      backdrop-filter: blur(8px); 
    }
    .neon { 
      text-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary); 
    }
    .hover-lift { 
      transition: transform 0.3s ease; 
    }
    .hover-lift:hover { 
      transform: translateY(-8px); 
    }

    .fade-in {
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out;
    }
    .fade-in.visible { 
      opacity: 1; 
      transform: translateY(0); 
    }

    .loading-screen {
      position: fixed;
      inset: 0;
      background: var(--bg-dark);
      display: grid;
      place-content: center;
      z-index: 1000;
      transition: opacity 0.5s ease-out;
    }
    .loading-screen.hidden { 
      opacity: 0; 
      pointer-events: none; 
    }
    .loader {
      width: 50px;
      height: 50px;
      border: 4px solid var(--primary);
      border-bottom-color: transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { 
      to { transform: rotate(360deg); } 
    }

    nav {
      position: sticky;
      top: 10px;
      margin: 0 auto;
      width: fit-content;
      z-index: 100;
      padding: 10px 20px;
      border-radius: 30px;
    }
    nav ul {
      display: flex;
      gap: 15px;
      list-style: none;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.1rem;
      transition: color 0.3s ease;
    }
    nav a:hover { 
      color: var(--primary); 
    }

    .page {
      display: none;
      padding: 80px 20px;
      min-width: 1200px;
      margin: 0 auto;
    }
    .page.active { 
      display: block; 
    }

    .hero {
      min-height: 90vh;
      text-align: center;
      position: relative;
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.5));
      overflow: hidden;
    }
    .hero img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.6;
      z-index: -2;
    }
    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      opacity: 0.3;
      z-index: -1;
    }
    .particles {
      position: absolute;
      inset: 0;
      z-index: -1;
    }
    .particle {
      position: absolute;
      background: var(--primary);
      opacity: 0.6;
      border-radius: 50%;
      animation: float 8s infinite linear;
    }
    @keyframes float {
      0% { transform: translateY(0); opacity: 0.6; }
      50% { opacity: 0.9; }
      100% { transform: translateY(-120vh); opacity: 0.3; }
    }
    .hero-content {
      position: relative;
      z-index: 1;
      padding: 50px 20px;
    }
    .hero h1 {
      font-size: clamp(4rem, 8vw, 6rem);
      margin-bottom: 25px;
      text-transform: uppercase;
      letter-spacing: 3px;
    }
    .hero p {
      max-width: 700px;
      margin: 0 auto 40px;
      font-size: 1.4rem;
      color: var(--text-light);
      animation: taglineFade 1s ease-in-out;
    }
    @keyframes taglineFade {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .btn-pulse {
      animation: pulse 1.5s infinite ease-in-out;
    }
    @keyframes pulse {
      0% { transform: scale(1); box-shadow: 0 0 15px var(--primary); }
      50% { transform: scale(1.1); box-shadow: 0 0 30px var(--primary); }
      100% { transform: scale(1); box-shadow: 0 0 15px var(--primary); }
    }

    .btn {
      padding: 15px 30px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.2rem;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .btn-primary {
      background: var(--primary);
      color: white;
    }
    .btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 0 20px var(--primary);
    }

    .grid {
      display: grid;
      gap: 20px;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
    .card {
      border-radius: 15px;
      overflow: hidden;
      background: var(--glass);
    }
    .card img {
      width: 100%;
      height: 160px;
      object-fit: cover;
    }
    .card-content {
      padding: 20px;
    }

    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      place-content: center;
      z-index: 200;
    }
    .modal.active {
      display: grid;
    }
    .modal-content {
      background: var(--bg-dark);
      border-radius: 15px;
      max-width: 90vw;
      max-height: 90vh;
      overflow-y: auto;
      padding: 20px;
    }
    .modal-header {
      padding: 15px;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
    }
    .modal-title {
      font-size: 1.8rem;
      color: var(--primary);
    }
    .modal-close {
      background: none;
      border: none;
      color: var(--primary);
      font-size: 1.5rem;
      cursor: pointer;
    }
    .modal-body {
      padding: 15px 0;
    }
    .model-card {
      border-radius: 10px;
      overflow: hidden;
    }
    .model-info {
      padding: 15px;
    }
    .model-name {
      font-size: 1.3rem;
      color: var(--primary);
    }
    .model-price {
      font-size: 1rem;
      margin: 8px 0;
    }
    .model-specs {
      font-size: 0.9rem;
    }
    .spec-item {
      display: flex;
      justify-content: space-between;
      margin: 5px 0;
    }
    .spec-value {
      color: var(--primary);
    }

    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-size: 1.1rem;
    }
    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--glass);
      color: white;
      font-size: 1rem;
    }
    .form-group textarea {
      font-family: 'Courier New', Courier, monospace;
      resize: vertical;
    }
    .form-group button {
      padding: 12px 25px;
      border-radius: 20px;
      background: var(--primary);
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1.1rem;
    }

    footer {
      background: rgba(0, 0, 0, 0.7);
      padding: 40px 20px;
      text-align: center;
      min-width: 1200px;
      margin: 0 auto;
    }
    .footer-title {
      font-size: 1.8rem;
    }
    .footer-desc {
      font-size: 1rem;
      color: var(--text-light);
      max-width: 500px;
      margin: 15px auto;
    }
  </style>
</head>
<body>
  <div class="loading-screen" id="loadingScreen">
    <div style="display: flex; gap: 15px; align-items: center;">
      <div class="loader"></div>
      <h1 class="orbitron">MotoVerse</h1>
    </div>
  </div>

  <nav class="glass">
    <ul>
      <li><a href="#" data-page="home">Home</a></li>
      <li><a href="#" data-page="royal-enfield">Royal Enfield</a></li>
      <li><a href="#" data-page="bajaj-auto">Bajaj Auto</a></li>
      <li><a href="#" data-page="hero-motocorp">Hero MotoCorp</a></li>
      <li><a href="#" data-page="tvs-motor">TVS Motor</a></li>
      <li><a href="#" data-page="mahindra">Mahindra</a></li>
      <li><a href="#" data-page="bmw-motorrad">BMW Motorrad</a></li>
      <li><a href="#" data-page="ktm">KTM</a></li>
      <li><a href="#" data-page="reviews">Reviews</a></li>
      <li><a href="#" data-page="ratings">Ratings</a></li>
      <li><a href="#" data-page="pricing">Pricing</a></li>
      <li><a href="#" data-page="comments">Comments</a></li>
      <li><a href="#" data-page="notepad">Notepad</a></li>
      <li><a href="#" data-page="contact">Contact</a></li>
    </ul>
  </nav>

  <div id="home" class="page active">
    <section class="hero">
      <img src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download.jpg?raw=true" alt="Motorcycle on road" loading="lazy">
      <div class="particles" id="particles"></div>
      <div class="hero-content fade-in">
        <h1 class="orbitron neon">MOTO<span class="gradient-text">VERSE</span></h1>
        <p>Ride the Future, Embrace the Journey!</p>
        <a href="#" class="btn btn-primary btn-pulse" data-page="royal-enfield">Explore Now</a>
      </div>
    </section>
  </div>

  <div id="royal-enfield" class="page">
    <h2 class="section-title orbitron fade-in">Royal Enfield</h2>
    <h3 class="orbitron fade-in">Classic Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="bullet-350">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download(1).jpeg?raw=true" alt="Royal Enfield Bullet 350">
        <div class="card-content">
          <button class="btn btn-primary" data-model="bullet-350">Details</button>
        </div>
      </article>
      <article class="card hover-lift fade-in" data-model="classic-350">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(2)%20(1).jpeg?raw=true" alt="Royal Enfield Classic 350">
        <div class="card-content">
          <button class="btn btn-primary" data-model="classic-350">Details</button>
        </div>
      </article>
    </div>
    <h3 class="orbitron fade-in">Modern Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="himalayan">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(3)%20(1).jpeg?raw=true" alt="Royal Enfield Himalayan">
        <div class="card-content">
          <button class="btn btn-primary" data-model="himalayan">Details</button>
        </div>
      </article>
    </div>
  </div>

  <div id="bajaj-auto" class="page">
    <h2 class="section-title orbitron fade-in">Bajaj Auto</h2>
    <h3 class="orbitron fade-in">Performance Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="pulsar-200ns">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(4)%20(1).jpeg?raw=true" alt="Bajaj Pulsar 200NS">
        <div class="card-content">
          <button class="btn btn-primary" data-model="pulsar-200ns">Details</button>
        </div>
      </article>
      <article class="card hover-lift fade-in" data-model="pulsar-rs200">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(5)%20(1).jpeg?raw=true" alt="Bajaj Pulsar RS200">
        <div class="card-content">
          <button class="btn btn-primary" data-model="pulsar-rs200">Details</button>
        </div>
      </article>
    </div>
    <h3 class="orbitron fade-in">Commuter Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="platinum-110">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(6)%20(1).jpeg?raw=true" alt="Bajaj Platinum 110">
        <div class="card-content">
          <button class="btn btn-primary" data-model="platinum-110">Details</button>
        </div>
      </article>
    </div>
  </div>

  <div id="hero-motocorp" class="page">
    <h2 class="section-title orbitron fade-in">Hero MotoCorp</h2>
    <h3 class="orbitron fade-in">Commuter Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="splendor">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(7)%20(1).jpeg?raw=true" alt="Hero Splendor">
        <div class="card-content">
          <button class="btn btn-primary" data-model="splendor">Details</button>
        </div>
      </article>
      <article class="card hover-lift fade-in" data-model="passion-pro">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(8)%20(1).jpeg?raw=true" alt="Hero Passion Pro">
        <div class="card-content">
          <button class="btn btn-primary" data-model="passion-pro">Details</button>
        </div>
      </article>
    </div>
    <h3 class="orbitron fade-in">Electric Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="vida-v1">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(9)%20(1).jpeg?raw=true" alt="Hero Vida V1">
        <div class="card-content">
          <button class="btn btn-primary" data-model="vida-v1">Details</button>
        </div>
      </article>
    </div>
  </div>

  <div id="tvs-motor" class="page">
    <h2 class="section-title orbitron fade-in">TVS Motor</h2>
    <h3 class="orbitron fade-in">Performance Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="apache-rtr-160">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(10)%20(1).jpeg?raw=true" alt="TVS Apache RTR 160">
        <div class="card-content">
          <button class="btn btn-primary" data-model="apache-rtr-160">Details</button>
        </div>
      </article>
      <article class="card hover-lift fade-in" data-model="apache-rr-310">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(11)%20(1).jpeg?raw=true" alt="TVS Apache RR 310">
        <div class="card-content">
          <button class="btn btn-primary" data-model="apache-rr-310">Details</button>
        </div>
      </article>
    </div>
    <h3 class="orbitron fade-in">Scooter Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="ntorq-125">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(12)%20(1).jpeg?raw=true" alt="TVS Ntorq 125">
        <div class="card-content">
          <button class="btn btn-primary" data-model="ntorq-125">Details</button>
        </div>
      </article>
    </div>
  </div>

  <div id="mahindra" class="page">
    <h2 class="section-title orbitron fade-in">Mahindra</h2>
    <h3 class="orbitron fade-in">Touring Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="mojo-300">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(13)%20(1).jpeg?raw=true" alt="Mahindra Mojo 300">
        <div class="card-content">
          <button class="btn btn-primary" data-model="mojo-300">Details</button>
        </div>
      </article>
      <article class="card hover-lift fade-in" data-model="rooster-250">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(14)%20(1).jpeg?raw=true" alt="Mahindra Rooster 250">
        <div class="card-content">
          <button class="btn btn-primary" data-model="rooster-250">Details</button>
        </div>
      </article>
    </div>
  </div>

  <div id="bmw-motorrad" class="page">
    <h2 class="section-title orbitron fade-in">BMW Motorrad</h2>
    <h3 class="orbitron fade-in">Adventure Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="r-1250-gs">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(15)%20(1).jpeg?raw=true" alt="BMW R 1250 GS">
        <div class="card-content">
          <button class="btn btn-primary" data-model="r-1250-gs">Details</button>
        </div>
      </article>
      <article class="card hover-lift fade-in" data-model="f-900-gs">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(16)%20(1).jpeg?raw=true" alt="BMW F 900 GS">
        <div class="card-content">
          <button class="btn btn-primary" data-model="f-900-gs">Details</button>
        </div>
      </article>
    </div>
    <h3 class="orbitron fade-in">Sport Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="s-1000-rr">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(17)%20(1).jpeg?raw=true" alt="BMW S 1000 RR">
        <div class="card-content">
          <button class="btn btn-primary" data-model="s-1000-rr">Details</button>
        </div>
      </article>
    </div>
  </div>

  <div id="ktm" class="page">
    <h2 class="section-title orbitron fade-in">KTM</h2>
    <h3 class="orbitron fade-in">Naked Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="duke-390">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(18)%20(1).jpeg?raw=true" alt="KTM Duke 390">
        <div class="card-content">
          <button class="btn btn-primary" data-model="duke-390">Details</button>
        </div>
      </article>
      <article class="card hover-lift fade-in" data-model="duke-200">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(19)%20(1).jpeg?raw=true" alt="KTM Duke 200">
        <div class="card-content">
          <button class="btn btn-primary" data-model="duke-200">Details</button>
        </div>
      </article>
    </div>
    <h3 class="orbitron fade-in">Adventure Series</h3>
    <div class="grid">
      <article class="card hover-lift fade-in" data-model="adventure-390">
        <img loading="lazy" src="https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(19)%20(1).jpeg?raw=true" alt="KTM Adventure 390">
        <div class="card-content">
          <button class="btn btn-primary" data-model="adventure-390">Details</button>
        </div>
      </article>
    </div>
  </div>

  <div id="reviews" class="page">
    <h2 class="section-title orbitron fade-in">Customer Reviews</h2>
    <div class="grid" id="review-list"></div>
    <div class="form-group fade-in">
      <h3 class="orbitron">Add a Review</h3>
      <label for="review-bike">Bike:</label>
      <select id="review-bike">
        <option value="bullet-350">Royal Enfield Bullet 350</option>
        <option value="classic-350">Royal Enfield Classic 350</option>
        <option value="himalayan">Royal Enfield Himalayan</option>
        <option value="pulsar-200ns">Bajaj Pulsar 200NS</option>
        <option value="pulsar-rs200">Bajaj Pulsar RS200</option>
        <option value="platinum-110">Bajaj Platinum 110</option>
        <option value="splendor">Hero Splendor</option>
        <option value="passion-pro">Hero Passion Pro</option>
        <option value="vida-v1">Hero Vida V1</option>
        <option value="apache-rtr-160">TVS Apache RTR 160</option>
        <option value="apache-rr-310">TVS Apache RR 310</option>
        <option value="ntorq-125">TVS Ntorq 125</option>
        <option value="mojo-300">Mahindra Mojo 300</option>
        <option value="rooster-250">Mahindra Rooster 250</option>
        <option value="r-1250-gs">BMW R 1250 GS</option>
        <option value="f-900-gs">BMW F 900 GS</option>
        <option value="s-1000-rr">BMW S 1000 RR</option>
        <option value="duke-390">KTM Duke 390</option>
        <option value="duke-200">KTM Duke 200</option>
        <option value="adventure-390">KTM Adventure 390</option>
      </select>
      <label for="review-text">Review:</label>
      <textarea id="review-text" rows="4" placeholder="Write your review..."></textarea>
      <label for="review-name">Name:</label>
      <input type="text" id="review-name" placeholder="Your name...">
      <button onclick="addReview()">Submit Review</button>
    </div>
  </div>

  <div id="ratings" class="page">
    <h2 class="section-title orbitron fade-in">Customer Ratings</h2>
    <div class="grid" id="rating-list"></div>
    <div class="form-group fade-in">
      <h3 class="orbitron">Add a Rating</h3>
      <label for="rating-bike">Bike:</label>
      <select id="rating-bike">
        <option value="bullet-350">Royal Enfield Bullet 350</option>
        <option value="classic-350">Royal Enfield Classic 350</option>
        <option value="himalayan">Royal Enfield Himalayan</option>
        <option value="pulsar-200ns">Bajaj Pulsar 200NS</option>
        <option value="pulsar-rs200">Bajaj Pulsar RS200</option>
        <option value="platinum-110">Bajaj Platinum 110</option>
        <option value="splendor">Hero Splendor</option>
        <option value="passion-pro">Hero Passion Pro</option>
        <option value="vida-v1">Hero Vida V1</option>
        <option value="apache-rtr-160">TVS Apache RTR 160</option>
        <option value="apache-rr-310">TVS Apache RR 310</option>
        <option value="ntorq-125">TVS Ntorq 125</option>
        <option value="mojo-300">Mahindra Mojo 300</option>
        <option value="rooster-250">Mahindra Rooster 250</option>
        <option value="r-1250-gs">BMW R 1250 GS</option>
        <option value="f-900-gs">BMW F 900 GS</option>
        <option value="s-1000-rr">BMW S 1000 RR</option>
        <option value="duke-390">KTM Duke 390</option>
        <option value="duke-200">KTM Duke 200</option>
        <option value="adventure-390">KTM Adventure 390</option>
      </select>
      <label for="rating-score">Rating (1-5):</label>
      <input type="number" id="rating-score" min="1" max="5" placeholder="1-5">
      <label for="rating-name">Name:</label>
      <input type="text" id="rating-name" placeholder="Your name...">
      <button onclick="addRating()">Submit Rating</button>
    </div>
  </div>

  <div id="pricing" class="page">
    <h2 class="section-title orbitron fade-in">Pricing</h2>
    <div class="grid">
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Royal Enfield Bullet 350</h3>
          <p class="card-desc">$2,200</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Royal Enfield Classic 350</h3>
          <p class="card-desc">$2,300</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Royal Enfield Himalayan</h3>
          <p class="card-desc">$4,000</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Bajaj Pulsar 200NS</h3>
          <p class="card-desc">$1,800</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Bajaj Pulsar RS200</h3>
          <p class="card-desc">$2,000</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Bajaj Platinum 110</h3>
          <p class="card-desc">$1,000</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Hero Splendor</h3>
          <p class="card-desc">$1,000</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Hero Passion Pro</h3>
          <p class="card-desc">$1,200</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Hero Vida V1</h3>
          <p class="card-desc">$1,800</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">TVS Apache RTR 160</h3>
          <p class="card-desc">$1,500</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">TVS Apache RR 310</h3>
          <p class="card-desc">$3,500</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">TVS Ntorq 125</h3>
          <p class="card-desc">$1,200</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Mahindra Mojo 300</h3>
          <p class="card-desc">$2,000</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">Mahindra Rooster 250</h3>
          <p class="card-desc">$2,500</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">BMW R 1250 GS</h3>
          <p class="card-desc">$18,500</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">BMW F 900 GS</h3>
          <p class="card-desc">$12,000</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">BMW S 1000 RR</h3>
          <p class="card-desc">$20,000</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">KTM Duke 390</h3>
          <p class="card-desc">$5,500</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">KTM Duke 200</h3>
          <p class="card-desc">$3,000</p>
        </div>
      </article>
      <article class="card hover-lift fade-in">
        <div class="card-content">
          <h3 class="card-title">KTM Adventure 390</h3>
          <p class="card-desc">$6,500</p>
        </div>
      </article>
    </div>
  </div>

  <div id="comments" class="page">
    <h2 class="section-title orbitron fade-in">Customer Comments</h2>
    <div class="grid" id="comment-list"></div>
    <div class="form-group fade-in">
      <h3 class="orbitron">Add a Comment</h3>
      <label for="comment-text">Comment:</label>
      <textarea id="comment-text" rows="4" placeholder="Write your comment..."></textarea>
      <label for="comment-name">Name:</label>
      <input type="text" id="comment-name" placeholder="Your name...">
      <button onclick="addComment()">Submit Comment</button>
    </div>
  </div>

  <div id="notepad" class="page">
    <h2 class="section-title orbitron fade-in">Notepad</h2>
    <div class="grid" id="note-list"></div>
    <div class="form-group fade-in">
      <h3 class="orbitron">Add a Note</h3>
      <label for="note-text">Note/Code:</label>
      <textarea id="note-text" rows="6" placeholder="Write your note or code..."></textarea>
      <label for="note-name">Name:</label>
      <input type="text" id="note-name" placeholder="Your name...">
      <button onclick="addNote()">Save Note</button>
    </div>
  </div>

  <div id="contact" class="page">
    <h2 class="section-title orbitron fade-in">Contact Us</h2>
    <div class="card hover-lift fade-in">
      <div class="card-content">
        <p>Email: support@motoverse.com</p>
        <p>Phone: +1-800-MOTO123</p>
        <p>Address: 123 Bike Lane, Moto City</p>
      </div>
    </div>
  </div>

  <footer>
    <h3 class="footer-title orbitron"><span class="gradient-text">MOTO</span>VERSE</h3>
    <p class="footer-desc">Your motorcycle destination</p>
  </footer>

  <div id="modal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content glass">
      <div class="modal-header">
        <h2 id="modal-title" class="modal-title orbitron"></h2>
        <button class="modal-close" aria-label="Close modal">&times;</button>
      </div>
      <div class="modal-body">
        <div id="modal-models" class="grid"></div>
      </div>
    </div>
  </div>

  <script>
    const models = {
      'bullet-350': { name: 'Royal Enfield Bullet 350', price: '$2,200', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download(1).jpeg?raw=true', specs: { Engine: '349cc Single', Power: '20 HP' } },
      'classic-350': { name: 'Royal Enfield Classic 350', price: '$2,300', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(2)%20(1).jpeg?raw=true', specs: { Engine: '349cc Single', Power: '20 HP' } },
      'himalayan': { name: 'Royal Enfield Himalayan', price: '$4,000', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(3)%20(1).jpeg?raw=true', specs: { Engine: '411cc Single', Power: '24 HP' } },
      'pulsar-200ns': { name: 'Bajaj Pulsar 200NS', price: '$1,800', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(4)%20(1).jpeg?raw=true', specs: { Engine: '199cc Single', Power: '24 HP' } },
      'pulsar-rs200': { name: 'Bajaj Pulsar RS200', price: '$2,000', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(5)%20(1).jpeg?raw=true', specs: { Engine: '199cc Single', Power: '24 HP' } },
      'platinum-110': { name: 'Bajaj Platinum 110', price: '$1,000', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(6)%20(1).jpeg?raw=true', specs: { Engine: '115cc Single', Power: '8 HP' } },
      'splendor': { name: 'Hero Splendor', price: '$1,000', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(7)%20(1).jpeg?raw=true', specs: { Engine: '97cc Single', Power: '8 HP' } },
      'passion-pro': { name: 'Hero Passion Pro', price: '$1,200', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(8)%20(1).jpeg?raw=true', specs: { Engine: '113cc Single', Power: '9 HP' } },
      'vida-v1': { name: 'Hero Vida V1', price: '$1,800', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(9)%20(1).jpeg?raw=true', specs: { Motor: 'Electric', Power: '6 kW' } },
      'apache-rtr-160': { name: 'TVS Apache RTR 160', price: '$1,500', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(10)%20(1).jpeg?raw=true', specs: { Engine: '159cc Single', Power: '17 HP' } },
      'apache-rr-310': { name: 'TVS Apache RR 310', price: '$3,500', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(11)%20(1).jpeg?raw=true', specs: { Engine: '312cc Single', Power: '34 HP' } },
      'ntorq-125': { name: 'TVS Ntorq 125', price: '$1,200', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(12)%20(1).jpeg?raw=true', specs: { Engine: '124cc Single', Power: '9 HP' } },
      'mojo-300': { name: 'Mahindra Mojo 300', price: '$2,000', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(13)%20(1).jpeg?raw=true', specs: { Engine: '294cc Single', Power: '26 HP' } },
      'rooster-250': { name: 'Mahindra Rooster 250', price: '$2,500', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(14)%20(1).jpeg?raw=true', specs: { Engine: '249cc Single', Power: '23 HP' } },
      'r-1250-gs': { name: 'BMW R 1250 GS', price: '$18,500', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(15)%20(1).jpeg?raw=true', specs: { Engine: '1254cc Boxer Twin', Power: '136 HP' } },
      'f-900-gs': { name: 'BMW F 900 GS', price: '$12,000', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(16)%20(1).jpeg?raw=true', specs: { Engine: '895cc Twin', Power: '105 HP' } },
      's-1000-rr': { name: 'BMW S 1000 RR', price: '$20,000', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(17)%20(1).jpeg?raw=true', specs: { Engine: '999cc Inline-4', Power: '207 HP' } },
      'duke-390': { name: 'KTM Duke 390', price: '$5,500', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(18)%20(1).jpeg?raw=true', specs: { Engine: '373cc Single', Power: '43 HP' } },
      'duke-200': { name: 'KTM Duke 200', price: '$3,000', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(19)%20(1).jpeg?raw=true', specs: { Engine: '199cc Single', Power: '25 HP' } },
      'adventure-390': { name: 'KTM Adventure 390', price: '$6,500', image: 'https://github.com/MotooVerse/MOTOVERSE/blob/main/download%20(19)%20(1).jpeg?raw=true', specs: { Engine: '373cc Single', Power: '43 HP' } }
    };

    const $ = (sel, base = document) => base.querySelector(sel);
    const $$ = (sel, base = document) => base.querySelectorAll(sel);

    function showPage(pageId) {
      $$('.page').forEach(page => page.classList.remove('active'));
      $(`#${pageId}`).classList.add('active');
    }

    function openModal(modelId) {
      const modal = $('#modal');
      const model = models[modelId];
      $('#modal-title').textContent = model.name;
      $('#modal-models').innerHTML = `
        <article class="model-card">
          <img loading="lazy" src="${model.image}" alt="${model.name}" style="width: 100%; height: 120px; object-fit: cover;">
          <div class="model-info">
            <h3 class="model-name orbitron">${model.name}</h3>
            <div class="model-price">${model.price}</div>
            <div class="model-specs">${Object.entries(model.specs).map(([k, v]) => `<div class="spec-item"><span>${k}:</span><span class="spec-value">${v}</span></div>`).join('')}</div>
          </div>
        </article>
      `;
      modal.classList.add('active');
      modal.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      const modal = $('#modal');
      modal.classList.remove('active');
      modal.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
    }

    async function addReview() {
      const bike = $('#review-bike').value;
      const text = $('#review-text').value.trim();
      const name = $('#review-name').value.trim();
      if (!text || !name) {
        alert('Please fill in both review and name fields.');
        return;
      }
      const timestamp = new Date().toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true, day: '2-digit', month: 'short', year: 'numeric' }).replace(',', '');
      try {
        const response = await fetch('/api/reviews', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ bike, text, name, timestamp })
        });
        if (response.ok) {
          $('#review-text').value = '';
          $('#review-name').value = '';
          await updateReviews();
        } else {
          alert('Failed to submit review. Please try again.');
        }
      } catch (error) {
        alert('Error submitting review: ' + error.message);
      }
    }

    async function addRating() {
      const bike = $('#rating-bike').value;
      const score = parseInt($('#rating-score').value);
      const name = $('#rating-name').value.trim();
      if (!score || score < 1 || score > 5 || !name) {
        alert('Please enter a valid rating (1-5) and name.');
        return;
      }
      const timestamp = new Date().toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true, day: '2-digit', month: 'short', year: 'numeric' }).replace(',', '');
      try {
        const response = await fetch('/api/ratings', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ bike, score, name, timestamp })
        });
        if (response.ok) {
          $('#rating-score').value = '';
          $('#rating-name').value = '';
          await updateRatings();
        } else {
          alert('Failed to submit rating. Please try again.');
        }
      } catch (error) {
        alert('Error submitting rating: ' + error.message);
      }
    }

    async function addComment() {
      const text = $('#comment-text').value.trim();
      const name = $('#comment-name').value.trim();
      if (!text || !name) {
        alert('Please fill in both comment and name fields.');
        return;
      }
      const timestamp = new Date().toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true, day: '2-digit', month: 'short', year: 'numeric' }).replace(',', '');
      try {
        const response = await fetch('/api/comments', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ text, name, timestamp })
        });
        if (response.ok) {
          $('#comment-text').value = '';
          $('#comment-name').value = '';
          await updateComments();
        } else {
          alert('Failed to submit comment. Please try again.');
        }
      } catch (error) {
        alert('Error submitting comment: ' + error.message);
      }
    }

    async function addNote() {
      const text = $('#note-text').value.trim();
      const name = $('#note-name').value.trim();
      if (!text || !name) {
        alert('Please fill in both note and name fields.');
        return;
      }
      const timestamp = new Date().toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true, day: '2-digit', month: 'short', year: 'numeric' }).replace(',', '');
      try {
        const response = await fetch('/api/notes', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ text, name, timestamp })
        });
        if (response.ok) {
          $('#note-text').value = '';
          $('#note-name').value = '';
          await updateNotes();
        } else {
          alert('Failed to submit note. Please try again.');
        }
      } catch (error) {
        alert('Error submitting note: ' + error.message);
      }
    }

    async function updateReviews() {
      try {
        const response = await fetch('/api/reviews');
        if (!response.ok) throw new Error('Failed to fetch reviews');
        const reviews = await response.json();
        const reviewList = $('#review-list');
        reviewList.innerHTML = reviews.map(r => `
          <article class="card hover-lift fade-in">
            <div class="card-content">
              <h3 class="card-title">${models[r.bike]?.name || r.bike}</h3>
              <p class="card-desc">${r.text} - ${r.name} (${r.timestamp})</p>
            </div>
          </article>
        `).join('');
      } catch (error) {
        alert('Error fetching reviews: ' + error.message);
      }
    }

    async function updateRatings() {
      try {
        const response = await fetch('/api/ratings');
        if (!response.ok) throw new Error('Failed to fetch ratings');
        const ratings = await response.json();
        const ratingList = $('#rating-list');
        ratingList.innerHTML = ratings.map(r => `
          <article class="card hover-lift fade-in">
            <div class="card-content">
              <h3 class="card-title">${models[r.bike]?.name || r.bike}</h3>
              <p class="card-desc">${r.score.toFixed(1)}/5 (${r.count} reviews) - ${r.name} (${r.timestamp})</p>
            </div>
          </article>
        `).join('');
      } catch (error) {
        alert('Error fetching ratings: ' + error.message);
      }
    }

    async function updateComments() {
      try {
        const response = await fetch('/api/comments');
        if (!response.ok) throw new Error('Failed to fetch comments');
        const comments = await response.json();
        const commentList = $('#comment-list');
        commentList.innerHTML = comments.map(c => `
          <article class="card hover-lift fade-in">
            <div class="card-content">
              <p class="card-desc">${c.text} - ${c.name} (${c.timestamp})</p>
            </div>
          </article>
        `).join('');
      } catch (error) {
        alert('Error fetching comments: ' + error.message);
      }
    }

    async function updateNotes() {
      try {
        const response = await fetch('/api/notes');
        if (!response.ok) throw new Error('Failed to fetch notes');
        const notes = await response.json();
        const noteList = $('#note-list');
        noteList.innerHTML = notes.map(n => `
          <article class="card hover-lift fade-in">
            <div class="card-content">
              <p class="card-desc"><pre>${n.text}</pre> - ${n.name} (${n.timestamp})</p>
            </div>
          </article>
        `).join('');
      } catch (error) {
        alert('Error fetching notes: ' + error.message);
      }
    }

    window.addEventListener('load', () => {
      setTimeout(() => $('#loadingScreen').classList.add('hidden'), 1000);

      const particlesDiv = $('#particles');
      for (let i = 0; i < 100; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        const size = Math.random() * 6 + 3;
        particle.style.width = \`\${size}px\`;
        particle.style.height = \`\${size}px\`;
        particle.style.left = \`\${Math.random() * 100}%\`;
        particle.style.animationDuration = \`\${Math.random() * 5 + 5}s\`;
        particle.style.animationDelay = \`\${Math.random() * 5}s\`;
        particlesDiv.appendChild(particle);
      }

      $$('nav a').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const pageId = link.getAttribute('data-page');
          showPage(pageId);
        });
      });

      $$('.btn[data-page]').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const pageId = btn.getAttribute('data-page');
          showPage(pageId);
        });
      });

      $$('.card button').forEach(btn => {
        btn.addEventListener('click', () => {
          openModal(btn.getAttribute('data-model'));
        });
      });

      $('.modal-close').addEventListener('click', closeModal);
      $('#modal').addEventListener('click', (e) => e.target === $('#modal') && closeModal());
      document.addEventListener('keydown', (e) => e.key === 'Escape' && closeModal());

      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('visible');
          else entry.target.classList.remove('visible');
        });
      }, { threshold: 0.2 });
      $$('.fade-in').forEach(el => observer.observe(el));

      updateReviews();
      updateRatings();
      updateComments();
      updateNotes();
    });
  </script>
</body>
</html>
  `);
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
